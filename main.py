import streamlit as st
import torch
from transformers import pipeline

def is_generated_by_ai(text):
    if text == '':
        return ""
    else:
        text_classifier = pipeline("text-classification", model="Juner/AI-generated-text-detection")
        result = text_classifier(text)[0]
        if result['label'] == "LABEL_1":
            result['label'] = "Human-generated"
            result['score'] = 1 - result['score']
        else:
            result['label'] =  "Human-generated"
            result['score'] = result['score']
        return result

st.set_page_config(
    page_title="AI GEN APP",
    page_icon="üìà",
    menu_items={
        'Get Help': 'https://www.extremelycoolapp.com/help',
        'Report a bug': "https://www.extremelycoolapp.com/bug",
        'About': "# This is a header. This is an *extremely* cool app!"
    }
)

st.markdown("""
# AI GENERERATED TEXT RECOGNITION (AGTR)

AGTR provides one usefull service - Understanding if the text was generated by AI. It utilizes HuggingFace transformer model to solve the task. 

## Enter your text and see the magic!

""")


user_input = st.text_area('Enter text','', placeholder='–≠—Ç–æ—Ç —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏')
output = is_generated_by_ai(user_input)

st.write("Paraphrased Text: ")
st.write(f'**{output}**')